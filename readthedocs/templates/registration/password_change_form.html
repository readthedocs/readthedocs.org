{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans 'Password change' %}{% endblock %}

{% block dashboard_bar %}
  {% with change_password_active="active" %}
    {% include "dashboard/dashboard_bar.html" %}
  {% endwith %}
{% endblock %}

{% block content %}<div id="content-main">

<form action="" method="post">{% csrf_token %}

  <div>

    {% if form.errors %}
      <p class="errornote">
      {% blocktrans count form.errors.items|length as counter %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
      </p>
    {% endif %}

    <h1>{% trans 'Password change' %}</h1>

    <p>{% trans "Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly." %}</p>

    <div class="form-row">
        {{ form.old_password.errors }}
        <label for="id_old_password" class="required">{% trans 'Old password' %}:</label>{{ form.old_password }}
    </div>

    <div class="form-row">
        {{ form.new_password1.errors }}
        <label for="id_new_password1" class="required">{% trans 'New password' %}:</label>{{ form.new_password1 }}
    </div>

    <div class="form-row">
    {{ form.new_password2.errors }}
        <label for="id_new_password2" class="required">{% trans 'Password (again)' %}:</label>{{ form.new_password2 }}
    </div>

    <div class="submit-row">
        <input type="submit" value="{% trans 'Change my password' %}" class="default" />
    </div>

    <script type="text/javascript">document.getElementById("id_old_password").focus();</script>
  </div>

</form>

{% endblock %}
