{% extends "projects/project_edit_base.html" %}

{% load i18n %}

{% block title %}{% trans "Edit Domains" %}{% endblock %}

{% block nav-dashboard %} class="active"{% endblock %}

{% block editing-option-edit-proj %}class="active"{% endblock %}

{% block project-domains-active %}active{% endblock %}
{% block project_edit_content_header %}{% trans "Domains" %}{% endblock %}

{% block project_edit_content %}
  <p class="help_text">
    {% blocktrans trimmed with docs_url='https://docs.readthedocs.io/page/custom_domains.html' %}
        Configuring a custom domain allows you to serve your documentation from a domain other than "{{ default_domain }}". <a href="{{ docs_url }}">Learn more</a>.
    {% endblocktrans %}
  </p>

  <div class="button-bar">
    <ul>
      <li>
        <a class="button"
           href="{% url 'projects_domains_create' project.slug %}">
          {% trans "Add Domain" %}
        </a>
      </li>
    </ul>
  </div>

  <div class="module">
    <div class="module-wrapper">
      <div class="module-header">
        <h3>{% trans "Existing Domains" %}</h3>
      </div>
      <div class="module-list">
        <div class="module-list-wrapper">
          <ul>
            {% for domain in object_list %}
              <li class="module-item">
                <span class="{% if domain.machine %}domain-machine{% endif %} {% if domain.canonical %}domain-canonical{% endif %}">
                  {{ domain.domain }}
                </span>
                <ul class="module-item-menu">
                  <li><a href="{% url 'projects_domains_edit' project.slug domain.pk %}">{% trans "Details" %}</a></li>
                  <li><a href="{% url 'projects_domains_delete' project.slug domain.pk %}">{% trans "Remove" %}</a></li>
                </ul>
              </li>
            {% empty %}
              <li class="module-item">
                <p class="quiet">
                  {% trans 'No domains are currently configured.' %}
                </p>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
