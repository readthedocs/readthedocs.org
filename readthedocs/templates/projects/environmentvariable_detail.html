{% extends "projects/project_edit_base.html" %}

{% load i18n %}

{% block title %}{% trans "Environment Variables" %}{% endblock %}

{% block nav-dashboard %} class="active"{% endblock %}

{% block editing-option-edit-environment-variables %}class="active"{% endblock %}

{% block project-environment-variables-active %}active{% endblock %}
{% block project_edit_content_header %}
  {% blocktrans trimmed with name=environmentvariable.name %}
    Environment Variable: {{ name }}
  {% endblocktrans %}
{% endblock %}

{% block project_edit_content %}
  <dl>
    <dt>{% trans "Privacy Level" %}</dt>
    <dd>
      {% if environmentvariable.public %}
        <p><strong>{% trans "Public" %}</strong></p>
        <p>
          {% blocktrans trimmed %}
            The environment variable is available in pull request builds and shown here.
          {% endblocktrans %}
        </p>
      {% else %}
        <p><strong>{% trans "Private" %}</strong></p>
        <p>
          {% blocktrans trimmed %}
            The environment variable is not available in pull request builds and hidden here.
          {% endblocktrans %}
        </p>
      {% endif %}
    </dd>

    <dt>{% trans "Value" %}</dt>
    <dd>
      {% if environmentvariable.public %}
        <pre>{{ environmentvariable.value }}</pre>
      {% else %}
        <p>
          {% blocktrans trimmed %}
            The value of the environment variable is not shown here for security purposes.
          {% endblocktrans %}
        </p>
      {% endif %}
    </dd>
  </dl>

  <form method="post" action="{% url 'projects_environmentvariables_delete' project_slug=project.slug environmentvariable_pk=environmentvariable.pk %}">
    {% csrf_token %}
    <input type="submit" value="{% trans "Delete" %}">
  </form>
{% endblock %}
